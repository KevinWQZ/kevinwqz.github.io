<!DOCTYPE html>
<html>

  
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="baidu-site-verification" content="vuqzu4486i" />
  <meta name="baidu-site-verification" content="yR54QJzaFG" />
  <title>iOS - è¢«èµ¶å°½æ€ç»çš„Crash</title>
  <meta name="description" content="">
  <meta name="author" content="xie tao">

<!--   <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="iOS - è¢«èµ¶å°½æ€ç»çš„Crash">
  <meta name="twitter:description" content=""> -->
  
<!--   <meta property="og:type" content="article">
  <meta property="og:title" content="iOS - è¢«èµ¶å°½æ€ç»çš„Crash">
  <meta property="og:description" content=""> -->
  
  <link rel="icon" type="image/png" href="/assets/images/favicon.ico" />
  <link href="/assets/images/favicon.ico" rel="shortcut icon" type="image/png">
  
  <link rel="stylesheet" href="/css/main.css">
  <link href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">

  <link rel="canonical" href="http://localhost:4000/2017/05/avoidCrash/">
  <link rel="alternate" type="application/rss+xml" title="wangquanzhen" href="http://localhost:4000/feed.xml">
  <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">

  <meta name="google-site-verification" content="1-1ZlHoRvM0T2FqPbW2S-qLgYXN6rsn52kErlMPd_gw" />

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?df0994aacf7a4c9779a5632908de3196";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

  
</head>


  <body>

    <span class="mobile btn-mobile-menu">
        <i class="fa fa-list btn-mobile-menu__icon"></i>
        <i class="fa fa-angle-up btn-mobile-close__icon hidden"></i>
    </span>
    
    <header class="panel-cover panel-cover--collapsed" style="background-image: url('/assets/images/background-cover.jpg')">
  <div class="panel-main">

    <div class="panel-main__inner panel-inverted">
    <div class="panel-main__content">

        <a href="/#blog" title="å‰å¾€ wangquanzhen çš„ä¸»é¡µ" class="blog-button"><img src="/assets/images/avatar.jpg" width="80" alt="wangquanzhen logo" class="panel-cover__logo logo" /></a>
        <h1 class="panel-cover__title panel-title"><a href="/#blog" title="å‰å¾€ wangquanzhen çš„ä¸»é¡µ" class="blog-button">wangquanzhen</a></h1>
        
        <span class="panel-cover__subtitle panel-subtitle">æ¢ç´¢ä¹‹æ—…ï¼Œå­¦ä¹ ä¹‹è·¯</span>
        
        <hr class="panel-cover__divider" />
        <p class="panel-cover__description">ä½ å¥½ï¼Œæˆ‘æ˜¯ç‹æƒæŒ¯ï¼æ¬¢è¿æ¥åˆ°æˆ‘çš„ä¸ªäººä¸»é¡µ.</br>90åä»£ç æ¬è¿å·¥ï¼Œ</p>
        <hr class="panel-cover__divider panel-cover__divider--secondary" />
        
        
        
        <div class="navigation-wrapper">
          <div>
            <nav class="cover-navigation cover-navigation--primary">
              <ul class="navigation">
                <li class="navigation__item"><a href="/#blog" title="è¿›å…¥åšå®¢" class="blog-button">åšå®¢</a></li>
                
                  <li class="navigation__item"><a href="/about/index.html" target="_blank" title="äº†è§£æ›´å¤šå…³äºæˆ‘">å…³äº</a></li>
                
              </ul>
            </nav>
          </div>
          
          <div><nav class="cover-navigation navigation--social">
  <ul class="navigation">

  
  <!-- Weibo -->
  <li class="navigation__item">
  
    <a href="http://weibo.com/u/2803559240" title="xietao3 çš„å¾®åš" target="_blank">
    <!-- <a href="http://weibo.com/xietao3" title="xietao3 çš„å¾®åš" target="_blank"> -->
      <i class='social fa fa-weibo'></i>
      <span class="label">Weibo</span>
    </a>
  </li>
  

  
  <!-- Github -->
  <li class="navigation__item">
    <a href="https://github.com/xietao3" title="xietao3 çš„ Github" target="_blank">
      <i class='social fa fa-github'></i>
      <span class="label">Github</span>
    </a>
  </li>
  
  
  

  

  
   <!-- CSDN -->
  <li class="navigation__item">
    <a href="http://blog.csdn.net/xietao3" title="xietao3 çš„ CSDN" target="_blank">
      <img src="/assets/images/csdn.png" width="20" height="20" />
      <!-- <i class='social fa fa-edit'></i> -->
      <span class="label">csdn</span>
    </a>
  </li>
  

  <!-- RSS -->
<!--   <li class="navigation__item">
    <a href="/feed.xml" rel="author" title="RSS" target="_blank">
      <i class='social fa fa-rss'></i>
      <span class="label">RSS</span>
    </a>
  </li> -->

  

  </ul>
</nav>
</div>
        </div>
      </div>
    </div>
    
    
    <div class="panel-cover--overlay cover-orange"></div>
    
  </div>
</header>


    <div class="content-wrapper">
        <div class="content-wrapper__inner">
            <article class="post-container post-container--single" itemscope itemtype="http://schema.org/BlogPosting">
  <header class="post-header">
    <div class="post-meta">
      <time datetime="2017-05-05 15:10:24 +0800" itemprop="datePublished" class="post-meta__date date">2017-05-05</time> &#8226; <span class="post-meta__tags tags"></span>
    </div>
    <h1 class="post-title">iOS - è¢«èµ¶å°½æ€ç»çš„Crash</h1>
  </header>

  <section class="post">
    <p><img src="http://upload-images.jianshu.io/upload_images/1319710-a07a36728197181e.jpeg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="" /></p>

<blockquote>
  <p>Crashæ›¾ç»æ˜¯æŠ˜ç£¨æˆ‘ä»¬çš„æ¢¦é­‡ï¼Œç¨‹åºå‘˜çš„å¤´é¡¶çš„ä¸€æŠŠé“¡åˆ€ï¼Œä½ æ°¸è¿œä¸çŸ¥é“å®ƒä»€ä¹ˆæ—¶å€™é™ä¸‹æ¥â€¦</p>
</blockquote>

<h1 id="èƒŒæ™¯">èƒŒæ™¯</h1>
<p>ç°åœ¨å¸‚é¢ä¸ŠCrashæ”¶é›†åšå¾—å¥½çš„å¹³å°å·²ç»å¾ˆå¤šäº†ï¼Œæ¯”å¦‚è¯´å¬äº‘ã€Buglyç­‰ï¼Œå¬äº‘çš„åŠŸèƒ½ç¡®å®å¼ºå¤§ã€Crashçš„å´©æºƒè½¨è¿¹æ˜¯å…¶ä»–å¹³å°ä¸Šæ²¡æœ‰çœ‹åˆ°çš„ï¼Œä½†æ˜¯å…¶ä»·æ ¼æœ‰ç‚¹æƒŠäººï¼Œè€ŒBuglyåªè®°å½•é¡µé¢è½¨è¿¹ï¼Œä½†æ˜¯Buglyæ˜¯å…è´¹çš„ã€‚ä¸ç®¡æ˜¯å¬äº‘è¿˜æ˜¯Buglyï¼Œä»–ä»¬çš„åŠŸèƒ½å…¶å®éƒ½æ˜¯å¾ˆå¥½å®ç°çš„ï¼Œä¸‹é¢æˆ‘ä¼šä¸€ä¸€ä»‹ç»ã€‚</p>

<p><img src="http://upload-images.jianshu.io/upload_images/1319710-4078f424eb4fcb3d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="å¬äº‘å´©æºƒè½¨è¿¹" /></p>

<h1 id="æ”¶é›†crash">æ”¶é›†Crash</h1>
<p>åœ¨<code class="highlighter-rouge">AppDelegate</code>åŠ å…¥æ”¶é›†Crashçš„æ–¹æ³•ï¼Œå…·ä½“ç›‘å¬Crashä»£ç æ–°å»ºä¸€ä¸ªç±»ç›®æˆ–è€…å»ºä¸€ä¸ªå•ä¾‹éƒ½å¯ä»¥ï¼Œçœ‹å…·ä½“åœºæ™¯ã€‚</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {
    [self collectCrash];
    return YES;
}
</code></pre></div></div>
<p>ç›‘å¬ä»£ç ï¼š</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>@implementation AppDelegate (CollectCrash)

- (void)collectCrash {
    struct sigaction newSignalAction;
    memset(&amp;newSignalAction, 0,sizeof(newSignalAction));
    newSignalAction.sa_handler = &amp;signalHandler;
    sigaction(SIGABRT, &amp;newSignalAction, NULL);
    sigaction(SIGILL, &amp;newSignalAction, NULL);
    sigaction(SIGSEGV, &amp;newSignalAction, NULL);
    sigaction(SIGFPE, &amp;newSignalAction, NULL);
    sigaction(SIGBUS, &amp;newSignalAction, NULL);
    sigaction(SIGPIPE, &amp;newSignalAction, NULL);
    
    //å¼‚å¸¸æ—¶è°ƒç”¨çš„å‡½æ•°
    NSSetUncaughtExceptionHandler(&amp;handleExceptions);
}

void handleExceptions(NSException *exception) {
    CCLog(@"exception = %@",exception);
    CCLog(@"callStackSymbols = %@",[exception callStackSymbols]);
}

void signalHandler(int sig) {}
@end
</code></pre></div></div>
<p>æ”¶é›†æ•ˆæœï¼š</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>2017-05-05 10:00:00.049 CrashDemo[1238:68105] Crash Collect: exception = *** -[__NSArrayI objectAtIndex:]: index 10 beyond bounds [0 .. 2]
2017-05-05 10:00:00.052 CrashDemo[1238:68105] Crash Collect: callStackSymbols = (
	0   CoreFoundation                      0x000000010dc11d4b __exceptionPreprocess + 171
	1   libobjc.A.dylib                     0x000000010d67321e objc_exception_throw + 48
	2   CoreFoundation                      0x000000010db4c2bb -[__NSArrayI objectAtIndex:] + 155
	3   CrashDemo                           0x000000010d08587b -[NSArray(avoidCrash) avoidCrash_arrayI_objectAtIndex:] + 59
	4   CrashDemo                           0x000000010d088021 -[AvoidCrashViewController tableView:didSelectRowAtIndexPath:] + 289
	5   CrashDemo                           0x000000010d08663c -[UITableView(CollectEvent) fd_imp_tableView:didSelectRowAtIndexPath:] + 556
	6   UIKit                               0x000000010e18d3b9 -[UITableView _selectRowAtIndexPath:animated:scrollPosition:notifyDelegate:] + 1848
	7   UIKit                               0x000000010e18d5cd -[UITableView _userSelectRowAtPendingSelectionIndexPath:] + 330
	8   UIKit                               0x000000010e04262f _runAfterCACommitDeferredBlocks + 320
	9   UIKit                               0x000000010e02f273 _cleanUpAfterCAFlushAndRunDeferredBlocks + 566
	10  UIKit                               0x000000010e060746 _afterCACommitHandler + 176
	11  CoreFoundation                      0x000000010dbb6267 __CFRUNLOOP_IS_CALLING_OUT_TO_AN_OBSERVER_CALLBACK_FUNCTION__ + 23
	12  CoreFoundation                      0x000000010dbb61d7 __CFRunLoopDoObservers + 391
	13  CoreFoundation                      0x000000010db9af8e __CFRunLoopRun + 1198
	14  CoreFoundation                      0x000000010db9a884 CFRunLoopRunSpecific + 420
	15  GraphicsServices                    0x0000000111a03a6f GSEventRunModal + 161
	16  UIKit                               0x000000010e035c68 UIApplicationMain + 159
	17  CrashDemo                           0x000000010d08697f main + 111
	18  libdyld.dylib                       0x0000000110a7368d start + 1
)
</code></pre></div></div>

<h1 id="æ”¶é›†crashè½¨è¿¹">æ”¶é›†Crashè½¨è¿¹</h1>
<p>è½¨è¿¹çš„æ”¶é›†å…¶å®å°±æ˜¯è¦æ”¶é›†åˆ°Crashå‰10ç§’å†…çš„ç”¨æˆ·æ“ä½œè®°å½•ï¼Œæˆ‘çš„ä¸Šä¸€ç¯‡æ–‡ç« <a href="http://www.jianshu.com/p/a6afc6252965">æ— åŸ‹ç‚¹æ•°æ®ç»Ÿè®¡</a>è¯¦ç»†è®²è§£äº†å¦‚ä½•æ”¶é›†åˆ°è¿™äº›æ•°æ®ã€‚é€‰æ‹©æ‰‹åŠ¨åŸ‹ç‚¹ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯æ¯•ç«Ÿè´¹æ—¶è´¹åŠ›ï¼Œå¹¶ä¸æ¨èè¿™ç§æ–¹å¼ã€‚æ¯«æ— ç–‘é—®çš„æ˜¯ï¼ŒCrashè½¨è¿¹å¯¹å¿«é€Ÿå®šä½é—®é¢˜çš„åŸå› æœ‰æå¤§çš„å¸®åŠ©ã€‚</p>

<h1 id="è§„é¿é—ªé€€">è§„é¿é—ªé€€</h1>
<h3 id="1-è§„é¿å¸¸è§æ•°æ®ç±»å‹å¼‚å¸¸">1. è§„é¿å¸¸è§æ•°æ®ç±»å‹å¼‚å¸¸</h3>

<p><a href="http://www.jianshu.com/p/5d625f86bd02">iOS runtimeå®ç”¨ç¯‡â€“å’Œå¸¸è§å´©æºƒsay good-byeï¼</a>ï¼Œæœ¬æ–‡å«Demoï¼Œéå¸¸è¯¦å°½ï¼Œè§„é¿Crashçš„åŒæ—¶æ•æ‰äº†å¼‚å¸¸è°ƒç”¨æ ˆã€‚</p>
<h3 id="2-crashå…¨é¢é˜²æŠ¤">2. Crashå…¨é¢é˜²æŠ¤</h3>
<p><a href="http://www.jianshu.com/p/02157577d4e7">é»‘é­”æ³•æ•™ä½ è®©iOS APPé˜²ä½Crash</a>ï¼Œè¿™ä¸€ç¯‡æ–‡ç« æ¯”è¾ƒå…¨é¢åœ°è®²è§£å¦‚ä½•è§„é¿å„ç§Crashï¼Œä½†æ˜¯æ²¡æœ‰Demoï¼Œéƒ¨åˆ†ç»†èŠ‚ä¹Ÿä¸æ˜ç¡®ã€‚</p>

<ol>
  <li>unrecognized selector crash</li>
  <li>KVO crash</li>
  <li>NSNotification crash</li>
  <li>NSTimer crash</li>
  <li>Container crashï¼ˆæ•°ç»„è¶Šç•Œï¼Œæ’nilç­‰ï¼‰</li>
  <li>NSString crash ï¼ˆå­—ç¬¦ä¸²æ“ä½œçš„crashï¼‰</li>
  <li>Bad Access crash ï¼ˆé‡æŒ‡é’ˆï¼‰</li>
  <li>UI not on Main Thread Crash</li>
</ol>

<h3 id="3-è§„é¿unrecognized-selector-crash">3. è§„é¿unrecognized selector crash</h3>
<p>ç”±äºå‚è€ƒçš„æ–‡ç« æ²¡æœ‰Demoï¼Œæˆ‘æ ¹æ®ä»‹ç»ç®€å•åœ°å†™äº†ä¸€ä¸ªDemoï¼Œæ£€éªŒä¸€ä¸‹ã€‚åœ¨è¿™é‡Œæˆ‘æ‰‹åŠ¨å¢åŠ äº†å¼‚å¸¸åŸå› å’Œå¼‚å¸¸è°ƒç”¨æ ˆLog(æœ‰æ›´å¥½çš„æ–¹å¼è¯·è”ç³»æˆ‘)ï¼ŒåŠ¨æ€æ·»åŠ æ¡©ç±»<code class="highlighter-rouge">AvoidCrashTarget</code>ï¼Œå†åŠ¨æ€ç»™æ¡©ç±»æ·»åŠ äº†ä¸€ä¸ªæ–¹æ³•ï¼Œè¯¥æ–¹æ³•ç»‘å®šäº†<code class="highlighter-rouge">avoidCrashAction</code>çš„<code class="highlighter-rouge">IMP</code>ï¼Œå°†æ¶ˆæ¯è½¬å‘ç»™æ¡©ç±»å®ä¾‹,æœ€ç»ˆè¢«è°ƒç”¨çš„æ–¹æ³•å®é™…ä¸Šæ˜¯<code class="highlighter-rouge">avoidCrashAction</code>ã€‚</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
@implementation NSObject (AvoidCrash)
#pragma clang diagnostic push
#pragma clang diagnostic ignored "-Wobjc-protocol-method-implementation"
- (id)forwardingTargetForSelector:(SEL)aSelector{
    // æ‰“å°æŠ¥é”™SEL
    CCLog(@"unrecognized selector crash:%@:%@",NSStringFromClass([self class]),NSStringFromSelector(aSelector));
    // æ‰“å°æŠ¥é”™è°ƒç”¨æ ˆ BSBacktraceLogger
    BSLOG_MAIN

    // åŠ¨æ€æ·»åŠ æ¡©ç±» å°†æ¶ˆæ¯è½¬å‘ç»™æ¡©ç±»å®ä¾‹
    Class class = objc_allocateClassPair(NSClassFromString(@"NSObject"),"AvoidCrashTarget",0);
    class_addMethod(class, aSelector, class_getMethodImplementation([self class], @selector(avoidCrashAction)), "@:");
    id tempObject = [[class alloc] init];
    return tempObject;
}
#pragma clang diagnostic pop
// é‡æ–°ç»‘å®šçš„IMP
- (NSInteger)avoidCrashAction {
    return 0;
}

</code></pre></div></div>

<h1 id="å¡é¡¿ç›‘æ§">å¡é¡¿ç›‘æ§</h1>
<h3 id="1-ç›‘å¬ä¸»çº¿ç¨‹runloop">1. ç›‘å¬ä¸»çº¿ç¨‹Runloop</h3>
<p>æœ¬æ–‡å¡é¡¿ç›‘æ§çš„åŸç†æ˜¯ç›‘å¬<code class="highlighter-rouge">Runloop</code>çš„çŠ¶æ€ã€‚<code class="highlighter-rouge">Runloop</code>è¢«å”¤é†’åå¤„ç†äº‹ä»¶ï¼Œå¤„ç†å®Œæˆåè¿›å…¥ä¼‘çœ çŠ¶æ€ï¼Œå¦‚æœæˆ‘ä»¬ç›‘å¬åˆ°<code class="highlighter-rouge">Runloop</code>è¢«å”¤é†’åï¼Œé•¿æ—¶é—´æ²¡æœ‰è¿›å…¥ä¼‘çœ çŠ¶æ€å³è§†ä¸ºå¡é¡¿ã€‚ç»“åˆå¯¹<code class="highlighter-rouge">CPU</code>ä½¿ç”¨ç‡çš„ç»¼åˆåˆ¤æ–­ï¼Œä¼šæ›´åŠ åˆç†ã€‚</p>

<p><img src="http://upload-images.jianshu.io/upload_images/1319710-6eda3c4b86203cac.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/640" alt="runloop(å€Ÿæ¥çš„å›¾)" />
ç›‘å¬æºç ï¼š</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>- (void)addObserver {
    __weak __typeof(&amp;*self)weakSelf = self;
    // 1. åˆ›å»ºç›‘å¬è€…
    CFRunLoopObserverRef observer = CFRunLoopObserverCreateWithHandler(kCFAllocatorDefault, kCFRunLoopAllActivities, YES, 0, ^(CFRunLoopObserverRef observer, CFRunLoopActivity activity) {
        switch (activity) {
            case kCFRunLoopEntry:
//                NSLog(@"è¿›å…¥");
                break;
            case kCFRunLoopBeforeTimers:
//                NSLog(@"å³å°†å¤„ç†Timeräº‹ä»¶");
                break;
            case kCFRunLoopBeforeSources:
//                NSLog(@"å³å°†å¤„ç†Sourceäº‹ä»¶");
                break;
            case kCFRunLoopBeforeWaiting:
                [weakSelf.operationQueue cancelAllOperations];
//                NSLog(@"å³å°†ä¼‘çœ ");
                break;
            case kCFRunLoopAfterWaiting:
//                NSLog(@"è¢«å”¤é†’");
                [weakSelf startCountDown];
                break;
            case kCFRunLoopExit:
//                NSLog(@"é€€å‡ºRunLoop");
                break;
            default:
                break;
        }
    });
    
    // 2. æ·»åŠ ç›‘å¬è€…
    CFRunLoopAddObserver(CFRunLoopGetCurrent(), observer, kCFRunLoopDefaultMode);
}

</code></pre></div></div>
<h3 id="2-å¡é¡¿æ—¶é—´">2. å¡é¡¿æ—¶é—´</h3>
<p><code class="highlighter-rouge">Runloop</code>è¢«å”¤é†’åæ–°å»ºäº†2ä¸ª<code class="highlighter-rouge">NSBlockOperation</code>åŠ å…¥å¼‚æ­¥é˜Ÿåˆ—ï¼Œ<code class="highlighter-rouge">op1</code>èµ·çš„æ˜¯å»¶æ—¶ä½œç”¨ï¼Œå¦‚æœ<code class="highlighter-rouge">Runloop</code>åœ¨<code class="highlighter-rouge">monitLockTimeInterval</code>æ—¶é—´å†…è¿›å…¥ä¼‘çœ ï¼Œ<code class="highlighter-rouge">op2</code>å°±å°†è¢«å–æ¶ˆï¼Œä»é˜Ÿåˆ—ä¸­åˆ é™¤ã€‚å¦‚æœæ²¡æœ‰åœ¨<code class="highlighter-rouge">monitLockTimeInterval</code>æ—¶é—´å†…è¿›å…¥ä¼‘çœ ï¼Œ<code class="highlighter-rouge">op2</code>å°†è¢«æ‰§è¡Œï¼Œè°ƒç”¨<code class="highlighter-rouge">- (void)appearlockAction</code>æ–¹æ³•ï¼Œæ‰“å°å‡ºå¡é¡¿çš„è°ƒç”¨æ ˆã€‚</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>- (void)startCountDown {
    __weak __typeof(&amp;*self)weakSelf = self;
    NSBlockOperation *op1 = [NSBlockOperation blockOperationWithBlock:^{
        sleep(monitLockTimeInterval);
    }];
    NSBlockOperation *op2 = [NSBlockOperation blockOperationWithBlock:^{
        [weakSelf appearlockAction];
    }];
    [op2 addDependency:op1];
    [_operationQueue addOperation:op1];
    [_operationQueue addOperation:op2];
}

- (void)appearlockAction {
    NSLog(@"----------å¡é¡¿-----------");
    BSLOG_MAIN;
}
</code></pre></div></div>
<p>æ–°å»ºNSBlockOperationçš„æ–¹å¼ä¼šæ¯”è¾ƒå ç”¨èµ„æºï¼Œå¾…å‘ç°æ›´å¥½çš„æ–¹å¼ã€‚</p>

<h3 id="3-cadisplaylinkç›‘æ§å¡é¡¿">3. CADisplayLinkç›‘æ§å¡é¡¿</h3>
<p><a href="http://www.jianshu.com/p/c8ee2103ca92">iOSåº”ç”¨UIçº¿ç¨‹å¡é¡¿ç›‘æ§</a>,åŸç†æ˜¯å±å¹•åœ¨è¿ç»­çš„å±å¹•åˆ·æ–°å‘¨æœŸä¹‹å†…æ— æ³•åˆ·æ–°å±å¹•å†…å®¹ï¼Œå³æ˜¯å‘ç”Ÿäº†å¡é¡¿ã€‚</p>

<h1 id="æ€»ç»“">æ€»ç»“</h1>
<p>æœ‰äº†è¿™äº›æ‰‹æ®µï¼ŒCrashåŸºæœ¬ä¸Šæ— å¤„å¯é€ƒï¼ŒåŒæ—¶å¸¸è§çš„Crashä¹Ÿå°†è¢«è§„é¿ï¼Œå¤§å¤§åœ°æå‡ç”¨æˆ·ä½“éªŒã€‚</p>

<p><a href="https://github.com/xietao3/CrashCollectionDemo">æœ¬æ–‡Demo</a></p>

  </section>
</article>

<section class="read-more">
   
   
   <div class="read-more-item">
       <span class="read-more-item-dim">æœ€è¿‘çš„æ–‡ç« </span>
       <h2 class="post-list__post-title post-title"><a href="/2017/06/SpringAnimation/" title="link to åŒ…æ•™åŒ…ä¼š-å¼¹æ€§åŠ¨ç”»çš„åŸç†ä¸å®ç°">åŒ…æ•™åŒ…ä¼š-å¼¹æ€§åŠ¨ç”»çš„åŸç†ä¸å®ç°</a></h2>
       <p class="excerpt">  å¼¹æ€§åŠ¨ç”»ä¸€ç›´ä»¥æ¥éƒ½æ·±æ·±åœ°å¸å¼•æˆ‘ï¼Œéšç€çŸ¥è¯†å‚¨å¤‡å¢å¤šï¼Œæ¸æ¸æ¢ç´¢å‡ºä¸€å¥—å¼¹æ€§åŠ¨ç”»çš„å®ç°åŸç†ã€‚ç®€ä»‹æœ¬æ–‡å°†ä»é›¶å¼€å§‹ï¼Œä¸€æ­¥æ­¥è§£æå¼¹æ€§åŠ¨ç”»åŸç†ï¼ŒåŒ…æ•™åŒ…ä¼šã€‚æœ¬æ–‡Demoç®€å•åœ°å°è£…äº†ä¸€ä¸ªåŠ¨ç”»åº“æ¥æµ‹è¯•ï¼Œæ”¯æŒUIViewçš„ä¸‰ç§åŠ¨ç”»ç±»å‹ï¼šSizeã€Positionã€Scaleï¼ŒåŠ¨ç”»è¿åŠ¨æ›²çº¿æœ‰ï¼šbounceã€easeInOutã€‚CALayeråŠ¨ç”»æš‚ä¸æ”¯æŒã€‚è¿åŠ¨æ›²çº¿ä»åˆä¸­å¼€å§‹ï¼Œæˆ‘ä»¬å°±å¼€å§‹æ¥è§¦æ­£å¼¦æ›²çº¿ã€ä½™å¼¦æ›²çº¿ï¼Œç°åœ¨çœŸçš„æ’ä¸Šç”¨åœºäº†(ğŸ˜­åæ‚”å½“åˆæ•°å­¦æ²¡å­¦å¥½)ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡å¯¹æ­£å¼¦ä½™å¼¦åšä¸€äº›å¤„ç†ï¼Œæ¥å¾—åˆ°åŠ¨ç”»çš„è¿åŠ¨æ›²çº¿ã€‚å¼¹æ€§åŠ¨...&hellip;</p>
       <div class="post-list__meta"><time datetime="2017-06-01 18:58:24 +0800" class="post-list__meta--date date">2017-06-01</time> &#8226; <span class="post-list__meta--tags tags"></span><a class="btn-border-small" href=/2017/06/SpringAnimation/>ç»§ç»­é˜…è¯»</a></div>
   </div>
   
   
   
   
   <div class="read-more-item">
       <span class="read-more-item-dim">æ›´æ—©çš„æ–‡ç« </span>
       <h2 class="post-list__post-title post-title"><a href="/2017/05/dataStatistics/" title="link to iOSæ— åŸ‹ç‚¹æ•°æ®ç»Ÿè®¡å®è·µ">iOSæ— åŸ‹ç‚¹æ•°æ®ç»Ÿè®¡å®è·µ</a></h2>
       <p class="excerpt">  æ‰‹åŠ¨åŸ‹ç‚¹å¤ªéº»çƒ¦äº†ï¼Œè°ç”¨è°çŸ¥é“ã€‚èƒŒæ™¯ä¸€ç›´ä»¥æ¥ï¼Œå¤§æ•°æ®ç´§ç´§çš„å’ŒåŸ‹ç‚¹æŠ€æœ¯æ†ç»‘åœ¨ä¸€èµ·ï¼Œç”šè‡³å¤§æ•°æ®æ—¶ä»£ä¹Ÿå¯ä»¥è¯´æ˜¯åŸ‹ç‚¹æ—¶ä»£ã€‚è¿™è¯æ²¡æ¯›ç—…ï¼Œä½†æ˜¯åŸ‹ç‚¹ä¸€ç›´éƒ½å­˜åœ¨ç€æ•ˆç‡ä½ä¸‹çš„é—®é¢˜ï¼Œæ„å»ºèµ·æ¥è´¹æ—¶é—´ï¼Œå®¹æ˜“å‡ºé”™ï¼Œæ¯æ¬¡ä¿®æ”¹åŸ‹ç‚¹éƒ½éœ€è¦å¼€å‘æ‰‹åŠ¨ä¿®æ”¹ç­‰é—®é¢˜ã€‚æ— åŸ‹ç‚¹ç»Ÿè®¡æŠ€æœ¯é—ªäº®ç™»åœºï¼Œå¾ˆå¥½åœ°è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼Œè§£æ”¾äº†ç¨‹åºå‘˜çš„åŒæ‰‹ã€‚å†…å®¹æ¦‚è¦æœ¬æ–‡Demoå·²ç»å®ç°ä»¥ä¸‹å†…å®¹ï¼š            ä¸»è¦åŠŸèƒ½      å¤‡æ³¨                  crashç›‘æ§      å·²å®Œæˆ              å¡é¡¿ç›‘æ§     ...&hellip;</p>
       <div class="post-list__meta"><time datetime="2017-05-04 16:50:24 +0800" class="post-list__meta--date date">2017-05-04</time> &#8226; <span class="post-list__meta--tags tags"></span><a class="btn-border-small" href=/2017/05/dataStatistics/>ç»§ç»­é˜…è¯»</a></div>
   </div>
   
</section>

<section class="post-comments">
   
    <div id="gitalk-container"></div>
    <script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>

    <script type="text/javascript">
      var gitalk = new Gitalk({
        clientID: 'a7e3bcc8c313f6fcf2cf',
        clientSecret: '1d7f990ff0250384dea6b037ce7d6e455d84d472',
        repo: 'xietao3.github.io',
        owner: 'xietao3',
        admin: ['xietao3'],
        id: 'BlogComment',
        distractionFreeMode: true
      });
      gitalk.render('gitalk-container');

    </script>

  



  
  
  
</section>


            <section class="footer">
    <footer>
    	<span class="footer__copyright">æœ¬ç«™ç‚¹é‡‡ç”¨<a href="http://creativecommons.org/licenses/by-nc-sa/4.0/">çŸ¥è¯†å…±äº« ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç›¸åŒæ–¹å¼å…±äº« 4.0 å›½é™… è®¸å¯åè®®</a></span>
        <span class="footer__copyright">æœ¬ç«™ç”± <a href="http://xietao3.com/about">xietao3</a> 
        åˆ›å»ºï¼Œé‡‡ç”¨ <a href="https://github.com/onevcat/vno-jekyll">Vno - Jekyll</a> ä½œä¸ºä¸»é¢˜ï¼Œæ‚¨å¯ä»¥åœ¨ GitHub æ‰¾åˆ°<a href="https://github.com/onevcat/OneV-s-Den">æœ¬ç«™æºç </a> - &copy; 2016</span>
    </footer>
</section>

        </div>
    </div>
    
    <script type="text/javascript" src="//code.jquery.com/jquery-1.11.3.min.js"></script>

<script type="text/javascript" src="/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<script type="text/javascript" src="/js/main.js"></script>



    
  </body>

</html>
